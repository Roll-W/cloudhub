# 元数据服务器

元数据服务器的部分工作流程说明。

## 文件服务器管理
文件服务器管理需要确认文件服务器的活动状态，通过文件服务器向元数据服务器发送心跳实现。
> 一般元数据服务器也是个集群，暂时简化掉。

当元数据服务器在经过2到3个心跳周期未接受到心跳时，视为文件服务器宕机，
将此服务器移除出活动服务器列表。

元数据服务器还需要知晓文件服务器的存储情况。（向文件服务器发起存储请求时实现？）


## 负载均衡
负载均衡包括两方面：
- 一是文件的负载均衡。优先存储到剩余空间较大的文件服务器中；
- 二是客户端请求的负载均衡。将客户端的文件请求分散到不同的文件服务器中，利于下载获取时并行传输。


## 存储文件主副本位置
待续

## 管理文件同步
待续

## 向客户端分配文件请求服务器
待续
